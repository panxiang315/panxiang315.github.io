<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
    
  
  <link href="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|consolas:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






  

<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.2/css/font-awesome.min.css" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="rohde&schwarz," />





  <link rel="alternate" href="/atom.xml" title="pan's record" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.1.0" />






<meta name="description" content="本文译自罗德施瓦茨的NB-IoT白皮书。   source: 源地址 title: Narrowband Internet of Things Whitepaper 纯属个人学习使用">
<meta name="keywords" content="rohde&amp;schwarz">
<meta property="og:type" content="article">
<meta property="og:title" content="NB-IoT白皮书">
<meta property="og:url" content="https://panxiang315.github.io/telecommunication/NB-IoT/0-2-NB-IoT/index.html">
<meta property="og:site_name" content="pan&#39;s record">
<meta property="og:description" content="本文译自罗德施瓦茨的NB-IoT白皮书。   source: 源地址 title: Narrowband Internet of Things Whitepaper 纯属个人学习使用">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P1-three-IoT-standards.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P2-network-of-IoT.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P3-air-interface.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P4-Operation-modes.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P5-mapping.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P6-Resource-grid.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P7-Frame-structure.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P8-reference-signals-mapping.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P9-npss-and-nsss.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P10-NPBCH.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P11-NPBCH-RE.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P12-NPDCCH-RE.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P13-UL-mapping.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P14-Resource-grid-3.75.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P15-RM-RS-1.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P16-RM-RS-2.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P17-preamble.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P18-preamble-sequence.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P19-Protocol-stacks.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P20-RACH-procedure.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P21-RRC-states.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P22-Connection-Establishment.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P23-Connection-Resume.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P24-Connection-Resume-F.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P25-Connection-release.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P26-UE-capability.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P27-NAS-information.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P28-security.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P29-reconfiguration.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P30-reconfiguration.jpg">
<meta property="og:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P31-NPUSCH-transmission.jpg">
<meta property="og:updated_time" content="2018-06-12T02:43:07.899Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="NB-IoT白皮书">
<meta name="twitter:description" content="本文译自罗德施瓦茨的NB-IoT白皮书。   source: 源地址 title: Narrowband Internet of Things Whitepaper 纯属个人学习使用">
<meta name="twitter:image" content="https://panxiang315.github.io/images/learning/NB-IoT-WP/P1-three-IoT-standards.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 'undefined',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://panxiang315.github.io/telecommunication/NB-IoT/0-2-NB-IoT/"/>





<script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
<link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">
<script>
    (function(){
        if(''){
            if (prompt('请输入文章密码') !== ''){
                alert('密码错误！');
                history.back();
            }
        }
    })();
</script>
<style>
    .pace .pace-progress {
        background: #1E92FB; /*进度条颜色*/
        height: 3px;
    }
    .pace .pace-progress-inner {
         box-shadow: 0 0 10px #1E92FB, 0 0 5px     #1E92FB; /*阴影颜色*/
    }
    .pace .pace-activity {
        border-top-color: #1E92FB;    /*上边框颜色*/
        border-left-color: #1E92FB;    /*左边框颜色*/
    }
</style>


  <title> NB-IoT白皮书 | pan's record </title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <!-- hexo-inject:begin --><!-- hexo-inject:end --><script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?41fc030db57d5570dd22f78997dc4a7e";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>
<!-- <a href="https://github.com/panxiang315/panxiang315.github.io"><img style="position: absolute; top: 0; right: 0; border: 0;
         " src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a> -->


    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta custom-logo">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">pan's record</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <h1 class="site-subtitle" itemprop="description">background of my life</h1>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://panxiang315.github.io/telecommunication/NB-IoT/0-2-NB-IoT/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Pan Xiang">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="pan's record">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="pan's record" src="/images/avatar.jpg">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                NB-IoT白皮书
              
            
          </h2>
        

        <div class="post-meta">
        
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-05T17:38:09+08:00">
                2018-06-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/telecommunication/" itemprop="url" rel="index">
                    <span itemprop="name">telecommunication</span>
                  </a>
                </span>

                
                
                  >
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/telecommunication/NB-IoT/" itemprop="url" rel="index">
                    <span itemprop="name">NB-IoT</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          


          
          

          

		  
            <div class="post-wordcount">
              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  15,609字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  57分
                </span>
              
            </div>
          

          




        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>本文译自罗德施瓦茨的NB-IoT白皮书。</p>
<blockquote>
<ul>
<li>source: <a href="https://www.rohde-schwarz.com.cn/applications/white-paper_230854-314242.html" target="_blank" rel="noopener">源地址</a></li>
<li>title: Narrowband Internet of Things Whitepaper</li>
<li>纯属个人学习使用</li>
</ul>
</blockquote>
<a id="more"></a>  
<hr>
<p>&emsp;&emsp;3GPP R13版本中引入了一个新的空口技术标准：窄带物联网(Narrowband Internet of Things, NB-IoT)。  &emsp;&emsp;NB-IoT针对机器型通信(Machine Type Communication, MTC)进行了优化，简化了流程从而降低设备成本和功耗。此外，它还适用于无线传播环境较差的场景，这种场景在机器通信中很常见。虽然NB-IoT是一个独立的无线空口，但它与LTE紧密相连，因此被集成到了现有的LTE规范中。<br>&emsp;&emsp;在本白皮书中，我们将介绍NB-IoT技术，重点介绍它与LTE之间的紧密联系。  </p>
<h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>&emsp;&emsp;MTC的特征之一是应用场景丰富。例如，处于静止状态的监控摄像机需要发送大量上行数据，而追踪型设备虽然数据量少，但要执行大量切换。<br>&emsp;&emsp;还有一类应用场景，如电表、水表及煤气表等仪表读数类设备。它们通常是固定的，因此不需要执行切换；只传输少量数据，对时延也不敏感。然而，这些MTC设备的数量庞大，甚至比传统设备数量高几个量级。若使用现有的LTE传输，虽然用户数据量很小，但是信令传输量大，会导致网络过载。NB-IoT的初始应用场景就是集中在这类场景中。<br>&emsp;&emsp;此外，这类设备通常没有连接电源，完全依靠电池工作。而替换电池成本较高，因为数量较多，需要大量技术人员。在大部分情况，电池寿命甚至可以决定整个设备的使用寿命。因此，优化的功耗设计对于该类应用场景尤其重要。这类场景无线传播环境差，必须实现室内深度覆盖，余量需达到23dB。<br>&emsp;&emsp;由于设备数量庞大，还必须控制设备成本，目标是单个模块价格低于5美元。<br>&emsp;&emsp;3GPP GERAN TSG$^{[1]}$对可能方案进行了评估，除上述要求之外，还需考虑与现有的GSM、UMTS和LTE系统共存。</p>
<div align="center"><img src="/images/learning/NB-IoT-WP/P1-three-IoT-standards.jpg" width="50%" alt="three-IoT-standards"> 图1-1 三种物联网标准</div> 

<p>&emsp;&emsp;研究确定了NB-IoT和EC-GSM两种解决方案，后者基于GSM标准。同时，纯LTE解决方案LTE-M也被纳入3GPP。它延续了R12中已经完成的优化，并引入了新的设备类型cat-M1。<br>&emsp;&emsp;本白皮书主要介绍NB-IoT标准。虽然它被集成在LTE标准中，但它不与LTE向后兼容，可以被看作是一个新的空口。通过给NB-IoT分配现有标准的时频资源或者其附近的时频资源来实现共存。本文结构如下：</p>
<blockquote>
<ul>
<li>首先概述NB-IoT需求及网络架构，并介绍物理层详细信息；</li>
<li>然后描述小区接入过程，说明分组包如何通过空口传输；</li>
<li>最后对技术发展进行了下一步的展望。  </li>
</ul>
</blockquote>
<hr>
<h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><h2 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h2><p>&emsp;&emsp;基于前面提到的MTC普遍需求进行扩展，NB-IoT需求如下：  </p>
<blockquote>
<ul>
<li>尽量减少信令开销，特别是在空口上</li>
<li>为整个系统（包括核心网）提供适当的安全性保障</li>
<li>延长电池寿命</li>
<li>支持IP和非IP数据的传输$^{[2,3]}$</li>
<li>短信息服务(Short Message Service, SMS)支持作为部署可选项$^{[4]}$</li>
</ul>
</blockquote>
<p>&emsp;&emsp;为了满足这些需求，许多LTE R8/R9版本的高级特性，甚至基本特性在NB-IoT中都不支持$^{[5]}$。最显着的例子是在连接状态下，UE没无法进行切换。只支持空闲状态的小区重选，甚至仅限于在NB-IoT网络内重选。由于没有与其他无线技术进行互通，因此也不支持相关特性。例如，NB-IoT不支持LTE-WLAN互通、设备共存时的干扰规避以及无线信道质量测量。</p>
<p>&emsp;&emsp;NB-IoT不支持大多数LTE高级特性，如载波聚合(Carrier Aggregation)、双连接(Dual Connectivity)或设备到设备(device-to-device)通信。此外，NB-IoT没有QoS概念，不能用于时延敏感的分组包传输。因此，所有需要保障比特率的业务（如实时IMS），NB-IoT都无法提供。  </p>
<p>&emsp;&emsp;针对上述独特需求，3GPP采取了与以前不同的解决方案：为非时延敏感的小型数据包传输场景，定义独立的无线空口标准并进行优化，而不是为所有类型的应用场景定义单个统一标准。</p>
<h2 id="网络架构"><a href="#网络架构" class="headerlink" title="网络架构"></a>网络架构</h2><h3 id="核心网"><a href="#核心网" class="headerlink" title="核心网"></a>核心网</h3><p>&emsp;&emsp;在演进分组系统(Evolved Packet System, EPS)中定义了两种对于蜂窝物联网(Cellular Internet of Things, CIoT)的优化方案：用户面(User Plane, UP)优化和控制面(Control Plane, CP)优化，如图2-1所示。这两种优化方案都可以使用，但依赖于NB-IoT设备支持能力。  </p>
<div align="center"> <img src="/images/learning/NB-IoT-WP/P2-network-of-IoT.jpg" width="80%" alt="network-of-IoT"> 图2-1 两种优化方案</div> 

<blockquote>
<p>注：红线指示控制面CIoT EPS优化的数据通道；蓝线指示用户面CIoT EPS优化的数据通道 </p>
</blockquote>
<p>&emsp;&emsp;在控制面CIoT EPS优化中，上行数据从eNodeB发往MME（而不是直接发往SGW）。接下来数据有2条路径可选：</p>
<blockquote>
<ul>
<li>发往SGW，子后再发往PGW</li>
<li>发往SCEF（Service Capability Exposure Function），该路径只能用于非IP数据包的传输</li>
</ul>
</blockquote>
<p>&emsp;&emsp;这些节点最终将数据发送给应用服务器(CIoT服务器)。下行数据在相反方向使用相同的路径来传输。<br>&emsp;&emsp;在控制面CIoT EPS优化中，不会为用户数据传输建立专门的数据承载(DRB)，数据包是通过信令承载(SRB)来传输的，因此省去了NAS层和核心网建立连接的信令流程，缩短唤醒恢复时延。因此，这种优化方案只适用于频率低且低速率业务的数据传输。</p>
<p>&emsp;&emsp;SCEF是专门为机器型数据(machine-type data)而设计的一个新节点，它用于在控制面上传输非IP数据，并为认证及授权等网络服务提供了一个抽象的接口。<br>&emsp;&emsp;通过用户平面CIoT EPS优化，数据以与常规数据业务相同的方式传输，即通过无线电承载通过SGW和PGW传输到应用服务器。因此，它在建立连接时会产生一些信令开销，但它有助于发送连续数据分组。该路径同时支持IP和非IP数据传输。</p>
<h3 id="接入网"><a href="#接入网" class="headerlink" title="接入网"></a>接入网</h3><p>&emsp;&emsp;在整体接入网络架构方面，NB-IoT与LTE没有区别$^{[6]}$，如图2-2所示：  </p>
<div align="center"><img src="/images/learning/NB-IoT-WP/P3-air-interface.jpg" width="40%" alt="air-interface">图2-2 空中接口</div> 

<p>&emsp;&emsp;eNB通过S1接口连接到MME和S-GW。虽然NB-IoT中没有切换功能，但是两个两个eNB之间仍然存在一个X2接口，它可以让空闲状态的UE快速恢复连接，详细信息参见[章节4.5.1]。</p>
<h2 id="频带"><a href="#频带" class="headerlink" title="频带"></a>频带</h2><p>&emsp;&emsp;NB-IoT使用与LTE中相同的频带号(Band Number)，并为<a href="https://panxiang315.github.io/telecommunication/LTE/LTE-Bands/">LTE使用频带</a>的子集。 R13中NB-IoT使用频带如表2-1所示$^{[7]}$：</p>
<div align="center">表2-1 NB-IoT频段</div>   

<table>
<thead>
<tr>
<th style="text-align:center">Band Number</th>
<th style="text-align:center">上行（MHz）</th>
<th style="text-align:center">下行（MHz）</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1920 - 1980</td>
<td style="text-align:center">2110 - 2170</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">1850 - 1910</td>
<td style="text-align:center">1930 - 1990</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">1710 - 1785</td>
<td style="text-align:center">1805 - 1880</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">824 - 849</td>
<td style="text-align:center">869 - 894</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">880 - 915</td>
<td style="text-align:center">925 - 960</td>
</tr>
<tr>
<td style="text-align:center">12</td>
<td style="text-align:center">699 - 716</td>
<td style="text-align:center">729 - 746</td>
</tr>
<tr>
<td style="text-align:center">13</td>
<td style="text-align:center">777 - 787</td>
<td style="text-align:center">746 - 756</td>
</tr>
<tr>
<td style="text-align:center">17</td>
<td style="text-align:center">704 - 716</td>
<td style="text-align:center">734 - 746</td>
</tr>
<tr>
<td style="text-align:center">18</td>
<td style="text-align:center">815 - 830</td>
<td style="text-align:center">860 - 875</td>
</tr>
<tr>
<td style="text-align:center">19</td>
<td style="text-align:center">830 - 845</td>
<td style="text-align:center">875 - 890</td>
</tr>
<tr>
<td style="text-align:center">20</td>
<td style="text-align:center">832 - 862</td>
<td style="text-align:center">791 - 821</td>
</tr>
<tr>
<td style="text-align:center">26</td>
<td style="text-align:center">814 - 849</td>
<td style="text-align:center">859 - 894</td>
</tr>
<tr>
<td style="text-align:center">28</td>
<td style="text-align:center">703 - 748</td>
<td style="text-align:center">758 - 803</td>
</tr>
<tr>
<td style="text-align:center">66</td>
<td style="text-align:center">1710 - 1780</td>
<td style="text-align:center">2110 - 2200</td>
</tr>
</tbody>
</table>
<p>&emsp;&emsp;从上表可以看出，NB-IoT大部分使用的频率都处于现有LTE频带的低频。这是因为低频信号覆盖广，穿透性强，更符合MTC应用场景需求。  </p>
<hr>
<h1 id="物理层"><a href="#物理层" class="headerlink" title="物理层"></a>物理层</h1><h2 id="操作模式"><a href="#操作模式" class="headerlink" title="操作模式"></a>操作模式</h2><p>&emsp;&emsp;NB-IoT在频域上占用了180 kHz有效带宽$^{[8]}$，对应于LTE传输中的一个RB。NB-IoT支持三种操作模式：</p>
<blockquote>
<ul>
<li>独立部署(Stand alone Operation)：一种可能的部署方式是重耕GSM频谱。GSM的单载波带宽为200kHz，可以将NB-IoT部署在GSM频带上，并在频带的两端各预留10kHz作为保护频带  </li>
<li>保护频带部署(Guard band operation)：利用LTE载波的保护频带上的未使用的RB资源来部署NB-IoT</li>
<li>带内部署（In-band operation）：利用LTE载波带内RB来部署NB-IoT  </li>
</ul>
</blockquote>
<p>&emsp;&emsp;NB-IoT三种操作模式如下图所示。</p>
<div align="center"><img src="/images/learning/NB-IoT-WP/P4-Operation-modes.jpg" width="100%" alt="Operation-modes">图3-1 NB-IoT操作模式</div> 

<p>&emsp;&emsp;对于独立部署方式，图中NB-IoT所占频谱仅作为示例。当然，这种操作模式也适用于没有相邻的GSM载波。<br>&emsp;&emsp;对于带内部署方式，LTE与NB-IoT之间的资源分配不固定。 然而，并非所有LTE载波内的RB都可以用于小区连接。仅限于以下值：  </p>
<div align="center"> 表3-1 在NB-IoT带内部署中允许小区连接的LTE PRB编号</div>   

<table>
<thead>
<tr>
<th style="text-align:center">LTE系统带宽</th>
<th style="text-align:center">3 MHz</th>
<th style="text-align:center">5 MHz</th>
<th style="text-align:center">10 MHz</th>
<th style="text-align:center">15 MHz</th>
<th style="text-align:center">20 MHz</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">用于NB-IoT同步的LTE PRB编号</td>
<td style="text-align:center">2,12</td>
<td style="text-align:center">2,7,17,22</td>
<td style="text-align:center">4,9,14,19, 30,35,40,45</td>
<td style="text-align:center">2,7,12,17, 22,27,32,42, 47,52,57,62, 67,72</td>
<td style="text-align:center">4,9,14,19, 24,29,34,39, 44,55,60,65, 70,75,80,85, 90,95</td>
</tr>
</tbody>
</table>
<p>&emsp;&emsp;如上表所示，不支持LTE带宽为1.4MHz时的带内操作。在为NB-IoT分配资源时，必须考虑LTE系统使用的资源（如每个子帧开始时的小区特定参考信号CRS或下行控制信道）之间的冲突。 这也反映在表3-1中，不使用6个中间的RB，因为它们被分配给LTE中的同步信号。<br>&emsp;&emsp;对于保护频带操作，UE仅同步到信号，对于该信号，频带完全处于保护频带中。<br>&emsp;&emsp;为了应对不同的无线传播环境，最多可达3个覆盖增强(Coverage Enhancement, CE)等级，CE0-CE2。CE0对应于正常覆盖，CE2对应覆盖较差的场景。等级数量取决于网络定义了多少个CE等级。各CE级别对应的RSRP功率阈值列表在小区中广播。CE等级不同主要影响消息的重传次数。<br>&emsp;&emsp;对于R13版本，NB-IoT UE只支持FDD，且只支持半双工type-B模式。这意味着上下行频率不同，且UE可以处在接收或发送状态，但不能同时收发。此外，从上行切换到下行，或从下行切换到上行时，中间必须存在至少一个保护子帧(guard subframe)，以便UE在发送机和接收机之间进行切换。</p>
<h2 id="下行"><a href="#下行" class="headerlink" title="下行"></a>下行</h2><p>&emsp;&emsp;NB-IoT下行包括三个物理通道，信道种类比LTE要少，不包含物理多播信道(PMCH)，因为NB-IoT没有MBMS服务。</p>
<blockquote>
<ul>
<li>NPBCH(Narrowband Physical Broadcast Channel)，窄带物理广播信道</li>
<li>NPDCCH(Narrowband Physical Downlink Control Channel)，窄带物理下行控制信道</li>
<li>NPDSCH(Narrowband Physical Downlink Shared Channel)，窄带物理下行共享信道</li>
</ul>
</blockquote>
<p>&emsp;&emsp;NB-IoT共定义了两个物理信号：</p>
<blockquote>
<ul>
<li>NRS(Narrowband Reference Signal)，窄带参考信号</li>
<li>NPSS和NSSS(Narrowband Primary/Secondary Synchronization Signals)，窄带主同步信号和窄带辅同步信号</li>
</ul>
</blockquote>
<p>&emsp;&emsp;下图为传输信道和物理信道之间的映射关系：</p>
<div align="center"><img src="/images/learning/NB-IoT-WP/P5-mapping.jpg" width="60%" alt="mapping">图3-2 传输信道及物理信道映射关系</div> 

<p>&emsp;&emsp;主系统模块(Master Information Block, MIB)信息通过NPBCH传输，其余信令和数据通过NPDSCH传输。PDCCH控制UE和eNB之间的数据传输。<br>&emsp;&emsp;物理下行信道均采用QPSK调制，且支持使用一个或两个天线端口进行传输，后者采用SFBC编码。一旦选择，NPBCH，NPDCCH和NPDSCH将使用相同的调制编码方案。<br>&emsp;&emsp;LTE为每个小区分配物理小区ID(Physical Cell ID, PCI)，与之类似，NB-IoT为小区分配窄带物理小区ID(Narrowband physical cell ID， NCellID)，包含504个不同的值，详见[3.2.3 同步信号]。</p>
<h3 id="帧结构"><a href="#帧结构" class="headerlink" title="帧结构"></a>帧结构</h3><p>&emsp;&emsp;在下行中，OFDM子载波间隔为15kHz，循环前缀(Cyclic Prefix, CP)为常规CP。每个OFDM符号由12个子载波组成，占据180kHz带宽。7个OFDMA符号组成一个时隙，单时隙资源网格如图3-3$^{[9]}$：</p>
<div align="center"><img src="/images/learning/NB-IoT-WP/P6-Resource-grid.jpg" width="40%" alt="Resource-grid">图3-3 单时隙资源网格</div> 

<p>&emsp;&emsp;对于一个资源块，这与正常CP长度下的LTE的资源网格相同，这对带内操作模式很重要。资源元素被定义为一个OFDMA符号中的一个子载波，并且在图3-3中由一个正方形表示。这些资源元素中的每一个传送具有根据调制方案的值的复数值。<br>&emsp;&emsp;这些时隙按照与LTE相同的方式总结为子帧和无线帧：</p>
<div align="center"><br>  <img src="/images/learning/NB-IoT-WP/P7-Frame-structure.jpg" width="60%" alt="Frame-structure"><br>  图3-4 15kHz子载波上下行帧结构<br></div> 

<p>&emsp;&emsp;有1024个循环重复的无线电帧，每个持续时间为10毫秒。无线电帧被分成10个SF，每个SF由两个插槽组成。<br>&emsp;&emsp;除了系统帧之外，还定义了超帧的概念，其对系统帧周期的数量进行计数，即每次系统帧号码换行时它都被递增。 它是一个10位计数器，所以超帧周期跨越1024个系统帧周期，对应于近3小时的时间间隔。</p>
<h3 id="窄带参考信号"><a href="#窄带参考信号" class="headerlink" title="窄带参考信号"></a>窄带参考信号</h3><p>&emsp;&emsp;窄带参考信号（NRS）在可用于广播或专用DL传输的所有SF中传输，无论数据是否实际传输，请参阅第16页的第3.2.5章“专用信道”以了解更多详细信息。<br>&emsp;&emsp;根据传输方案的不同，NRS可以在一个天线端口或两个天线端口上传输。 它的值与LTE中的CRS一样创建，NCellID用于PCI。 映射序列如下图所示：</p>
<div align="center"><br>  <img src="/images/learning/NB-IoT-WP/P8-reference-signals-mapping.jpg" width="80%" alt="reference-signals-mapping"><br>  图3-5 参考信号映射<br></div> 

<p>&emsp;&emsp;图3-5中所示的NRS映射还在频率范围内循环移位NCellID mod 6。 当在两个AP上发送NRS时，则在用于AP0上的NRS的每个资源元素上，AP1上的相同资源元素被设置为零，反之亦然。<br>&emsp;&emsp;对于带内操作，对于未用于MBSFN的SF，也在NB-IoT频带中发送LTE CRS。利用NRS的结构，在LTE CRS和NRS之间不存在重叠，但是对于速率匹配和资源元素映射必须考虑CRS。所有的DL传输都不能使用这些资源元素，而必须跳过它们。<br>&emsp;&emsp;带内操作的一个重要方面涉及NcellID。它可能与嵌入LTE小区的PCI相同或不相同。这由MIB-NB中的opeartionMode参数指示，请参阅第14页上的第3.2.4节“窄带物理广播信道”，它将具有相同PCI的带内操作区分为真或假。如果该参数设置为真，则NCellID和PCI相同，并且UE可以假定天线端口的数量与LTE小区中的相同。然后可以从任一参考信号集推断该信道。因此，LTE CRS端口0与NRS端口0相关联，并且CRS端口1与NRS端口1相关联。如果相同PCI被设置为假，则UE可能不采取任何这些假设。</p>
<h3 id="同步信号"><a href="#同步信号" class="headerlink" title="同步信号"></a>同步信号</h3><p>&emsp;&emsp;对于帧和子帧中的第一同步以及为了确定NCellID，重用主同步信号（PSS）和辅同步信号（SSS）的LTE概念。利用这些信号，还可以在UE接收器中改进定时和频率估计。<br>&emsp;&emsp;为了区分这些信号与它们的LTE对应物，它们分别被表示为NPSS和NSSS。 其结构如下图所示：</p>
<div align="center"><br>  <img src="/images/learning/NB-IoT-WP/P9-npss-and-nsss.jpg" width="80%" alt="npss-and-nsss"><br>  图3-6 NPSS和NSSS<br></div> 

<p>&emsp;&emsp;前3个OFDM符号被省略，因为当NB-IoT以带内模式运行时，它们可以在LTE中承载PDCCH。 请注意，在UE与NPSS和NSSS同步期间，可能不知道操作模式，因此该保护时间适用于所有模式。 另外，两个同步信号都被LTE的CRS打孔。 没有规定哪个天线端口用于同步信号，甚至可以在任何两个SF之间改变。<br>&emsp;&emsp;在频域中采用长度为11的Zadoff-Chu序列用于NPSS的序列生成。这个序列是固定的，因此没有关于细胞的信息。它在每个无线帧的SF5中发送，以便它的接收允许UE确定帧边界。<br>&emsp;&emsp;NSSS序列由长度为131的频域Zadoff-Chu序列产生，根据无线电帧号进行二进制加扰和循环移位。 NCellID是一个附加的输入参数，因此它可以从序列中派生出来。像LTE一样，定义了504个PCI值。 NSSS在每个偶数编号的无线电帧的最后一个SF中传输。<br>&emsp;&emsp;对于带内操作，NPSS和NSSS的传输以及下一节中描述的NPBCH只能在PRB上进行，如表3-1所示。选择用于接收该信息的载波称为主载波。<br>使用这种结构，UE不能混淆NB同步信号与LTE系统发送的信号。因此，不存在错误检测的危险，具有任一技术的UE自动路由到正确的频率范围。</p>
<h3 id="窄带物理广播信道"><a href="#窄带物理广播信道" class="headerlink" title="窄带物理广播信道"></a>窄带物理广播信道</h3><p>&emsp;&emsp;NPBCH承载窄带主信息块（MIB-NB）。 MIB-NB包含34比特，并且在640ms的时间周期上发送，即64个无线电帧。 其中提供了以下信息：</p>
<blockquote>
<ul>
<li>指示系统帧号（SFN）的最高有效位（MSB）的4位，其余最低有效位（LSB）隐含地从MIB-NB开始导出</li>
<li>2位表示超帧号的两个LSB</li>
<li>SIB1-NB调度和大小为4位</li>
<li>5位表示系统信息值标签</li>
<li>1位表示是否应用访问类别限制</li>
<li>7位用于指示具有特定模式值的操作模式</li>
<li>11个备用位用于未来扩展<br>图3-7显示了它到物理资源的映射：</li>
</ul>
</blockquote>
<div align="center"><br>  <img src="/images/learning/NB-IoT-WP/P10-NPBCH.jpg" width="80%" alt="PBCH"><br>  图3-7 NPBCH映射到子帧中<br></div> 

<p>&emsp;&emsp;物理层基带处理后，产生的MIB-NB被分成8个块。 第一个数据块分别在第一个子帧（SF0）上传输，并在下一个7个连续无线电帧的SF0中重复。 在以下无线电帧的SF0中，对BL2执行相同的过程。 这个过程一直持续到整个MIB-NB被发送。 通过对所有传输使用SF0，如果NB-IoT被部署为带内操作，则避免了NPBCH与LTE上潜在的MBSFN传输冲突。<br>&emsp;&emsp;NPBCH的SF结构如下图所示：</p>
<div align="center"><br>  <img src="/images/learning/NB-IoT-WP/P11-NPBCH-RE.jpg" width="50%" alt="NPBCH-RE"><br>  图3-8 NPBCH占用RE<br></div> 

<p>&emsp;&emsp;符号映射在NRS和LTE CRS周围，总是假定为NRS定义了两个天线端口，为CRS定义了4个天线端口。 这个假设是必要的，因为UE仅从读取MIB-NB获得实际的天线端口信息。 频率范围内的参考信号位置由NSSS提供的NCellID给出。 尽管NCellID可能与带内操作中的PCI不同，但是其范围受到限制，使得其指向相同的频率位置，因此UE在频率范围中CRS的循环移位是已知的。 同样，前3个OFDM符号被省略以避免与LTE的控制信道可能的冲突。</p>
<h3 id="专用信道"><a href="#专用信道" class="headerlink" title="专用信道"></a>专用信道</h3><p>&emsp;&emsp;控制和共享信道的原理也适用于NB-IoT，定义窄带物理下行链路控制信道（NPDCCH）和窄带物理下行链路共享信道（NPDSCH）。 并非所有的SF都可以用于专用DL信道的传输。 在RRC信令中，可以用信号发送指示有效SF的10位或40位的位图，其以周期性的方式被应用。 对于没有指示SF有效的情况，专用DL信道传输被推迟到下一个有效SF。</p>
<h4 id="控制信道NPDCCH"><a href="#控制信道NPDCCH" class="headerlink" title="控制信道NPDCCH"></a>控制信道NPDCCH</h4><p>&emsp;&emsp;NPDCCH指示哪个UE在NPDSCH中存在数据，在哪里找到它们以及它们重复多久。 此外，其中提供了UL许可，显示了UE将用于UL中的数据传输的资源。 最后，NPDCCH中还包含诸如寻呼或系统信息更新等附加信息。<br>&emsp;&emsp;NPDCCH子帧设计如下图所示：</p>
<div align="center"><br>  <img src="/images/learning/NB-IoT-WP/P12-NPDCCH-RE.jpg" width="50%" alt="NPDCCH-RE"><br>  图3-9 NPDCCH占用RE<br></div> 

<p>&emsp;&emsp;用于NPDCCH的资源元素用绿色表示。它们必须映射在以蓝色显示的NRS和围绕CRS（紫色）的带内操作中。由NB-SIB1用信号发送的控制区大小的参数lN start表示OFDM开始符号。对于带内操作，可以避免与LTE控制信道冲突。对于保护带和独立操作模式，控制区域大小默认为0，为NPDCCH提供更多的资源元素。<br>在每个SF上，定义了两个窄带控制信道单元（NCCE），NCCE0和NCCE1。它们在图3-9中用深绿色（NCCE0）和浅绿色（NCCE1）表示。定义了两种NPDCCH格式来使用它们：</p>
<blockquote>
<ul>
<li>NPDCCH格式0取一个NCCE。因此，它们中的两个可以在SF内传输。</li>
<li>NPDCCH格式1同时采用NCCE。<br>为了使UE以合理的解码复杂度找到控制信息，NPDCCH被分组到以下搜索空间中：</li>
<li>Type-1公共搜索空间，用于分页</li>
<li>Type-2公共搜索空间，用于随机访问</li>
<li>UE特定的搜索空间<br>每个NPDCCH可以用RRC配置的上限重复多次。 此外，类型2公共搜索空间和UE特定搜索空间由RRC提供，而类型1公共搜索空间由寻呼机会SF提供，请参阅第32页的第4.7章“寻呼”。<br>为每个UE分配不同的无线电网络临时标识符（RNTI），一个用于随机接入（RA-RNTI），一个用于寻呼（P-RNTI），以及随机接入过程中提供的UE特定标识符（CRNTI）。 这些标识符在NPDCCH的CRC中隐式指示。 因此，UE必须在其搜索空间中查找该RNTI，并且如果找到，则解码NPDCCH。<br>版本13中定义了三种DCI格式，DCI格式N0，N1和N2 [10]：</li>
</ul>
</blockquote>
<div align="center"><br>   表3-2 DCI 格式<br></div>   

<table>
<thead>
<tr>
<th style="text-align:center">DCI格式</th>
<th style="text-align:center">大小（bit)</th>
<th style="text-align:center">内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">N0</td>
<td style="text-align:center">23</td>
<td style="text-align:center">UL grant</td>
</tr>
<tr>
<td style="text-align:center">N1</td>
<td style="text-align:center">23</td>
<td style="text-align:center">NPDSCH scheduling RACH procedure initiated by NPDCCH order</td>
</tr>
<tr>
<td style="text-align:center">N2</td>
<td style="text-align:center">15</td>
<td style="text-align:center">Paging and direct indication</td>
</tr>
</tbody>
</table>
<p>当UE接收到NPDCCH时，可以通过以下方式区分不同的格式：DCI格式N2以CRC与P-RNTI加扰的方式隐式指示。 如果CRC用C-RNTI加扰，则消息中的第一位指示是否包含DCI格式N0或N1。 对于CRC用RA-RNTI加扰的情况，内容是受限DCI格式N1，仅包括RACH响应所需的那些字段。<br>包括在DCI格式中的N0和N1是调度延迟，即NPDCCH结束和NPDSCH开始或NPUSCH开始之间的时间。 对于NPDSCH，此延迟至少为5个SF，而对于NPUSCH则为8个。 对于通过DCI格式N2的DL传输，调度延迟固定为10个SF。</p>
<h4 id="业务信道NPDSCH"><a href="#业务信道NPDSCH" class="headerlink" title="业务信道NPDSCH"></a>业务信道NPDSCH</h4><p>NPDSCH SF具有与图3-9中所示的NPDCCH相同的结构。 它从一个可配置的OFDM符号lN start开始，映射在NRS周围，并且用于带内操作，即LTE CRS。 IN启动由RRC信令提供用于带内操作，否则为0。<br>最大传输块大小（TBS）为680位。 传输块的映射跨越NSF SF。 传输块被重复提供NRep相同的副本，使用SF交织在UE处优化接收。 这两个值，NSF和NRep都在DCI中指出。 得到的SF序列被映射到为NPDSCH定义的NSF·NRep连续的SF。<br>对于DL不存在传输的自动确认，eNB在DCI中指示这一点。 如果完成，则UE使用发送确认NPUSCH格式2，请参阅第19页的第3.3.2章“物理上行链路共享信道”。关联的时序和副载波也在此DCI中指示。<br>所有操作模式都支持多载波，请参阅第35页第5.2.2章“多载波配置”，这意味着当UE处于连接状态时可以使用另一个载波。 在空闲状态下，UE驻留在从其接收同步信号和广播信息的NB-IoT载波上，即锚载波。 它通过在SIB2-NB中提供的相关UL载波中发送前导码，在那里等待寻呼或开始接入移动始发数据或信令。<br>SIB1-NB通过NPDSCH传输。它有256个无线电帧的周期，重复4次，8次或16次。传输块大小和重复次数在MIB-NB中指示。 4,8或16次重复是可能的，并且分别定义了4个传输块大小208,328,440和680比特。 SIB1-NB开始的无线电帧由重复次数和NCellID决定。 SF4用于发送SIB1-NB的所有无线电帧中的SIB1-NB。由于其他传输参数也是固定的，控制信道中没有相关的指示。<br>SIB1-NB内容只能在每个修改周期中改变，其长度为4096个无线电帧，即40.96秒。这对应于4个SFN周期，这就是在MIB-NB中指示超帧编号的2个LSB的原因。如果发生这样的修改，则使用DCI格式N2在NPDCCH中指示它。<br>尽管通过NPDSCH发送，但SIB1-NB资源被映射为如图3-8所示的MIB-NB，即省略了前3个OFDM符号。这是必要的，因为UE知道从SIB1-NB开始的资源映射，所以它需要先解码这个SIB。</p>
<h2 id="上行"><a href="#上行" class="headerlink" title="上行"></a>上行</h2><p>对于上行链路（UL），这两个物理信道</p>
<blockquote>
<ul>
<li>NPUSCH，窄带物理上行共享信道</li>
<li>NPRACH，窄带物理随机接入信道和</li>
<li>DMRS，解调参考信号<br>被定义。 下图描述了物理通道和相关传输通道之间的连接：</li>
</ul>
</blockquote>
<div align="center"><br>  <img src="/images/learning/NB-IoT-WP/P13-UL-mapping.jpg" width="50%" alt="UL-mapping"><br>  图3-10 上行传输信道及物理信道映射<br></div> 

<p>除RACH传输外，所有数据均通过NPUSCH传输。 这也包括使用不同格式发送的UL控制信息（UCI）。 因此没有与LTE中的PUCCH等价的情况。</p>
<h3 id="时隙结构"><a href="#时隙结构" class="headerlink" title="时隙结构"></a>时隙结构</h3><p>在UL中，应用单载波频分多址（SC-FDMA），具有3.75kHz或15kHz子载波间隔。 eNB决定使用哪一个。<br>当应用15kHz子载波间隔时，UL的资源网格与DL的资源网格相同，请参见图3-3。 对于3.75kHz副载波间隔，时隙的资源网格具有修改后的结构：</p>
<div align="center"><br>  <img src="/images/learning/NB-IoT-WP/P14-Resource-grid-3.75.jpg" width="80%" alt="Resource-grid-3.75"><br>  图3-11 3.75kHz子载波间隔时资源网格<br></div> 

<p>同样在一个时隙内有7个OFDM符号。 根据OFDM原则，3.75 kHz子载波间隔的符号持续时间与15 kHz相比具有四倍的持续时间，这导致了2 ms的时隙长度。</p>
<h3 id="物理上行共享信道"><a href="#物理上行共享信道" class="headerlink" title="物理上行共享信道"></a>物理上行共享信道</h3><p>在物理UL共享信道NPUSCH上，定义了两种格式。 NPUSCH格式1用于通过UL-SCH的UL传输信道数据，传输块不大于1000比特。 NPUSCH格式2承载UL控制信息（UCI），其在版本13中被限制为对DL传输的确认。<br>映射传输块的最小单位是资源单位（RU）。 其定义取决于PUSCH格式和子载波间隔。<br>对于NPUSCH格式1和3.75kHz副载波间隔，RU由频率范围内的1个副载波和时间范围内的16个时隙组成，即RU具有32ms的长度。 在15 kHz副载波间隔有4个选项：</p>
<div align="center"><br>   表3-3 DCI 格式<br></div>   


<table>
<thead>
<tr>
<th style="text-align:center">子载波数</th>
<th style="text-align:center">时隙数</th>
<th style="text-align:center">RU时长</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">16</td>
<td style="text-align:center">8ms</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">8</td>
<td style="text-align:center">4ms</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">4</td>
<td style="text-align:center">2ms</td>
</tr>
<tr>
<td style="text-align:center">12</td>
<td style="text-align:center">2</td>
<td style="text-align:center">1ms</td>
</tr>
</tbody>
</table>
<p>对于NPUSCH格式2，RU总是由长度为4个时隙的一个子载波组成。因此，对于3.75 kHz副载波间隔，RU有8 ms的持续时间，15 kHz副载波间隔为2 ms。<br>对于NPUSCH格式2，调制方案总是BPSK。 NPUSCH格式1允许的调制取决于所选的RU：</p>
<blockquote>
<ul>
<li>对于具有一个副载波的RU，可以使用BPSK和QPSK</li>
<li>对于所有其他RU，应用QPSK<br>用于UL-SCH传输的许可通过DCI格式N0在NPDCCH中指示。在该DCI中指示NPUSCH的开始时间，重复次数，用于一个传输块的RU的数量以及包括它们在频率范围内的位置的子载波的数量。此外还包含MCS索引，为一个子载波RU提供调制方案，另外还提供RU的数量和传输块大小。<br>最后，时间信号通过应用逆傅立叶变换并预先加入循环前缀（CP）来创建。对于15kHz副载波间隔，这个CP与使用普通CP的LTE相同，而对于3.75kHz，它是256个样本，对应于8.3μs。对于后一种情况，每个时隙结束时的2304个样本（75μs）的周期保持为空，其用作保护间隔。对于带内操作，该保护间隔可用于在LTE系统中传输探测参考信号。<br>与DL传输相反，在可配置的情况下是否应该确认传输，在相关联的DL中始终存在确认。</li>
</ul>
</blockquote>
<h3 id="参考信号"><a href="#参考信号" class="headerlink" title="参考信号"></a>参考信号</h3><p>在UL中，解调参考信号（DMRS）被定义。 它与数据复用，因此它只在包含数据传输的RU中传输。 没有为UL定义MIMO传输，因此所有传输都使用单个天线端口。<br>根据NPUSCH格式，DMRS每个插槽以一个或三个SCFDMA符号传输。 对于NPUSCH格式1，这些是图3-12中用红色表示的符号。</p>
<div align="center"><br>  <img src="/images/learning/NB-IoT-WP/P15-RM-RS-1.jpg" width="50%" alt="RM-RS-1"><br>  图3-12 格式1解调参考信号使用RE<br></div> 

<p>从图中可以看出，用于DMRS传输的SC-FDM符号取决于子载波间隔。 对于图3-13所示的NPUSCH格式2也是如此：</p>
<div align="center"><br>  <img src="/images/learning/NB-IoT-WP/P16-RM-RS-2.jpg" width="50%" alt="RM-RS-2"><br>  图3-13 格式2解调参考信号使用RE<br></div> 

<p>DMRS符号是由一个基本序列乘以一个相位因子构成的。 它们与相关数据具有相同的调制。 对于NPUSCH格式2，DMRS符号以与针对LTE PUCCH格式1,1a和1b所定义的相同的正交序列进行扩展。</p>
<h3 id="随机接入信道"><a href="#随机接入信道" class="headerlink" title="随机接入信道"></a>随机接入信道</h3><p>在随机接入信道NPRACH中，发送前导码。 第27页第4.4章“随机接入过程”中描述的关联随机接入过程可用于向小区发信号通知UE该接入并希望接入。<br>前导码基于单个子载波上的符号组。 每个符号组都有一个循环前缀（CP），后跟5个符号。 以下结构显示了这个序列：</p>
<div align="center"><br>  <img src="/images/learning/NB-IoT-WP/P17-preamble.jpg" width="80%" alt="preamble"><br>  图3-14 preamble<br></div> 

<p>定义了两种前导码格式，格式0和格式1，它们的CP长度不同。 这五个符号的持续时间为TSEQ = 1.333 ms，格式0的前缀为TCP = 67μs，格式1的前缀为267μs，总长度分别为1.4 ms和1.6 ms。 要使用的前导码格式在系统信息中广播。<br>前导码由无间隙传输的4个符号组组成。跳频应用于符号组粒度，即每个符号组在不同的子载波上传输。通过构建，这种跳跃被限制在一个连续的12个副载波上。取决于覆盖级别，小区可以指示UE应当在每次重复时使用相同的传输功率重复前导码1,2,4,8,16,32,64或128次。<br>NPRACH资源分别为每个CE组提供。它们分配时间和频率资源，并且周期性地发生，其中可以配置40毫秒和2.56秒之间的NPRACH周期。系统信息中提供了一段时间内的开始时间。重复次数和前导格式决定它们的结束。<br>在频率范围内，应用3.75 kHz的副载波间隔。 NPRACH资源占用一组连续的12,24,36或48个子载波，并位于一组离散的子载波范围内。取决于小区配置，可以将资源进一步划分为由msg3支持多音调传输的UE所使用的资源以及不支持msg3的UE。<br>图3-15显示了重复至少4次前导码的示例。这里，每个蓝色矩形描述一个前导码符号组，如图3-14所示，因此前导码重复由四个矩形组成。</p>
<div align="center"><br>  <img src="/images/learning/NB-IoT-WP/P18-preamble-sequence.jpg" width="80%" alt="preamble-sequence"><br>  图3-15 频域preamble顺序<br></div> 

<p>在这12种可能性中，如果在有序的前导码传输的情况下未被eNB提供，则UE选择用于传输第一前导码符号组的副载波。接下来的3个符号组由一个算法确定，该算法仅取决于第一个符号的位置。对于下一次重复的第一符号组的副载波选择，应用伪随机跳频，其中NCellID和重复次数被用作输入。以下符号组的副载波选择仅依赖于该结果。<br>这种跳频算法的设计方式是，第一副载波的不同选择导致不会重叠的跳频方案。因此，有许多不同的拥塞自由前导码与分配给PRACH的子载波相同。对于NB-IoT没有进行进一步的划分，即不存在像在LTE中应用的前导索引那样的概念。<br>前导码序列建立在Zadoff-Chu序列上，该序列取决于子载波的位置。对载波频率的调制和上变换与LTE相同。</p>
<h2 id="功率控制"><a href="#功率控制" class="headerlink" title="功率控制"></a>功率控制</h2><h3 id="上行功率控制"><a href="#上行功率控制" class="headerlink" title="上行功率控制"></a>上行功率控制</h3><p>在UL中，发射功率取决于小区特定参数，所选RU和UE测量参数的组合[11]。 对于最多有2次重复的情况，时隙i上的功率由下式给出</p>
<p>如果有两次以上的重复，则发射功率通常由PCMAX，c（i）给出。<br>PCMAX，c（i）是时隙i上小区特定的最大发射功率。 采用上述结构，发射功率可能永远不会超过这个门限。 MNPUSCH，c取决于所选择的RU的带宽和子载波间隔PO_NPUSCH，由RRC用信号通知的不同参数的组合，这取决于传输块是用于UL-SCH数据（j = 1）还是用于RACH 消息（j = 2）。 PLc是由UE估计的路径损耗。 该因子通过αc（j）加权，其对于NPUSCH格式1由RRC提供，否则应用固定值1。 换句话说，这个因子表明路径损耗应该被补偿的强度。</p>
<h3 id="下行功率控制"><a href="#下行功率控制" class="headerlink" title="下行功率控制"></a>下行功率控制</h3><p>DL传输功率是指NRS传输功率。 其值被指示给UE以估计路径损耗。 所有携带NRS和所有SF的资源元素都是不变的。<br>对于NPBCH，NPDCCH和NPDSCH，发射功率取决于发射方案。 如果只应用一个天线端口，则功率与NRS相同，否则会减少3dB。<br>如果使用带内操作模式并且将相同的PCI值设置为真，则会发生特殊情况。 然后，eNB可以另外用信号发送NRS功率与CRS功率的比率，使得UE也可以使用CRS来进行信道估计。</p>
<hr>
<h1 id="小区接入"><a href="#小区接入" class="headerlink" title="小区接入"></a>小区接入</h1><p>当UE接入小区时，其遵循与LTE相同的原理：首先以适当的频率搜索小区，读取关联的SIB信息，并开始随机接入过程以建立RRC连接。 通过这种连接，它通过NAS层向核心网注册，如果尚未完成的话。 在UE已经返回到RRC_IDLE状态之后，如果它具有移动发起的数据要发送，或者等到它被分页，它可以再次使用随机接入过程。</p>
<h2 id="协议栈及信令承载"><a href="#协议栈及信令承载" class="headerlink" title="协议栈及信令承载"></a>协议栈及信令承载</h2><p>协议层的一般原则是从LTE协议开始，将其降低到最低限度，并根据NB-IoT的需要进行增强。这样，重新使用了经过验证的结构和程序，同时防止了未使用的LTE功能的开销。因此，从协议栈角度来看，NB-IoT技术可被视为一种新的空中接口，同时建立在完善的基础之上。<br>其中一个例子是无记名结构。信令无线承载部分从LTE部分重新使用。在CCCH逻辑信道上传输RRC消息的SRB0，以及使用DCCH逻辑信道传输RRC消息的SRB1和NAS消息。但是，没有定义SRB2。<br>另外，定义了一个新的信令无线电承载SRB1bis。它隐式地配置了SRB1使用相同的配置，但没有PDCP。此通道在SRB1激活安全性之前担任角色，然后SRB1bis不再使用。这也意味着对于控制平面CIoT EPS优化，完全只使用SRB1bis，因为在此模式下没有安全激活。<br>协议栈与LTE的功能相同，针对NB-IoT进行了优化：</p>
<div align="center"><br>  <img src="/images/learning/NB-IoT-WP/P19-Protocol-stacks.jpg" width="80%" alt="Protocol-stacks"><br>  图4-1 NB-IoT协议栈<br></div> 

<h2 id="系统信息"><a href="#系统信息" class="headerlink" title="系统信息"></a>系统信息</h2><p>与LTE一样，系统信息用于广播对小区内的所有UE有效的信息。 由于广播系统信息占用资源并导致每个UE的电池消耗，所以其尺寸保持最小，并且其尺寸与其出现一样。<br>因此，定义了一组系统信息块（SIB），它是为LTE定义的SIB的子集。 这些显示在下表中：</p>
<div align="center"><br>  表4-1 SIB携带内容<br></div> 

<table>
<thead>
<tr>
<th style="text-align:center">系统信息块SIB</th>
<th style="text-align:center">内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">MIB-NB</td>
<td style="text-align:center">Essential information required to receive further system information</td>
</tr>
<tr>
<td style="text-align:center">SIBType1-NB</td>
<td style="text-align:center">Cell access and selection, other SIB scheduling</td>
</tr>
<tr>
<td style="text-align:center">SIBType2-NB</td>
<td style="text-align:center">Radio resource configuration information</td>
</tr>
<tr>
<td style="text-align:center">SIBType3-NB</td>
<td style="text-align:center">Cell re-selection information for intra-frequency, interfrequency</td>
</tr>
<tr>
<td style="text-align:center">SIBType4-NB</td>
<td style="text-align:center">Neighboring cell related information relevant for intrafrequency cell re-selection</td>
</tr>
<tr>
<td style="text-align:center">SIBType5-NB</td>
<td style="text-align:center">Neighboring cell related information relevant for interfrequency cell re-selection</td>
</tr>
<tr>
<td style="text-align:center">SIBType14-NB</td>
<td style="text-align:center">Access Barring parameters</td>
</tr>
<tr>
<td style="text-align:center">SIBType16-NB</td>
<td style="text-align:center">Information related to GPS time and Coordinated Universal Time (UTC)</td>
</tr>
</tbody>
</table>
<p>SIB以后缀NB表示。 这些SIB中的每一个都用减少和修改的一组信息元素来定义，然而，内容的类型与LTE中的相同，例如， SIB16-NB描述时间信息。 即使在带内操作的情况下，UE也独占使用这些SIB并忽略来自LTE的那些SIB。<br>UE通过SIB5-NB拥有有效版本的MIB-NB，SIB1-NB和SIB2-NB总是强制性的。 其他的必须是有效的，如果他们的功能是必需的操作。 例如，如果在MIB-NB中指示访问限制（AB），则UE需要具有有效的SIB14-NB。<br>系统信息获取和更改过程仅适用于RRC_IDLE状态。 当处于RRC_CONNECTED状态时，不期望UE读取SIB信息。 如果发生变化，则通过寻呼或直接指示来通知UE。 为了获取修改后的系统信息，eNB还可以将UE释放到RRC_IDLE状态。</p>
<h3 id="调度"><a href="#调度" class="headerlink" title="调度"></a>调度</h3><p>MIB-NB和SIB1-NB按第3.2节“下行链路”中所述进行传输。其余SIB信息的调度以与LTE类似的方式完成：SIB-NB消息被分组为SI消息，其中 然后在不同的SI窗口中传输。 不同SI消息的SI窗口不重叠。 它们的长度在SIB1-NB中指示，并且对于所有SI消息都是相同的。 每个SIB和SI消息的最大尺寸是680位。<br>在SI窗口内，SI消息根据其传输块大小通过2或8个连续的有效DL SF发送，并可能重复多次。 调度信息在SIB1-NB中指示，因此在NPDCCH中没有必要的指示，并且不需要SI-RNTI。</p>
<h3 id="变更通知"><a href="#变更通知" class="headerlink" title="变更通知"></a>变更通知</h3><p>正如第18页上的“SIB1-NB传输”中所述，系统信息只能在修改周期的时间范围内更改，并用寻呼消息指示。通过SIB14-NB指示的访问限制（AB）发生变化是个例外，这些信息可能会在任何给定的时间点发生变化。造成这种例外的原因是AB参数可能需要在更短的时间范围内改变。当然，SIB16-NB不会被寻呼通知指定，因为它会定期更改其内容。<br>指示SIB1-NB或SI消息中的更改的另一种方式是值标签的概念。关联的字段systemInfoValueTag包含在MIB-NB中。该概念用于从覆盖外位置返回到覆盖范围并从较长DRX周期返回的UE。在这些情况下，UE不能接收到寻呼消息，所以它检查值标签。如果存在SIB更改，则会修改值标记。但是，如果超过24小时超出覆盖范围，UE必须读取系统信息。</p>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p>UE首先从NSSS获得NCellID。 通过读取MIB-NB中的schedulingInfoSIB1，它知道SIB1-NB的大小和重复次数，并且可以推断其起始位置。 在SIB1中，指示其他SIB-NB消息的位置。 最后，借助从MIB-NB获得的超帧号的2个LSB，UE知道何时检查SIB更新，如果通过修改的值标记或通过寻呼指示SIB改变。</p>
<h2 id="小区选择及移动性"><a href="#小区选择及移动性" class="headerlink" title="小区选择及移动性"></a>小区选择及移动性</h2><p>NB-IoT设计用于UE和网络之间的短消息和短消息。假设UE以在从一个小区服务的同时交换这些消息，因此，不需要RRC_CONNECTED期间的切换过程。 如果需要这样的小区改变，则UE首先进入RRC_IDLE状态，并重新选择其中的另一个小区。<br>对于RRC_IDLE状态，为频率内和频率间小区定义小区重选[12]。 这里的频率间隔是指180kHz载波，这意味着即使两个载波用于嵌入同一LTE载波的带内操作，这仍被称为频率间重选。<br>为了找到小区，UE首先测量NRS的接收功率和质量。然后将这些值与SIB-NB提供的小区特定阈值进行比较。 S标准规定，如果两个值都高于这些阈值，则UE认为自己处于该小区的覆盖范围内。如果UE处于一个小区的覆盖范围内，它就驻扎在它上面。<br>取决于接收到的NRS功率，UE可能不得不开始小区重选.UE将该功率与重选门限进行比较，重选门限对于同频和异频情况可能不同。所有必需的参数都是从实际服务小区接收的，不需要从其他小区读取SIB-NB。<br>在满足S标准的所有小区中，UE相对于功率超过另一阈值的小区对小区进行排序。在这个过程中增加了一个滞后，以防止太频繁的小区重选，并且小区特定偏移也可以应用于频率内情况。与LTE相反，不同频率没有优先级。 UE最终选择合适的最高等级小区，即从中可以接收正常服务。<br>当UE离开RRC_CONNECTED时，它不一定选择相同的载波来寻找要驻留的小区。 RRCConnectionRelease消息可以指示UE首先尝试找到合适的小区的频率。只有当UE在这个频率上没有找到合适的小区时，它也可能试图在不同的频率上找到一个小区。</p>
<h2 id="随机接入流程"><a href="#随机接入流程" class="headerlink" title="随机接入流程"></a>随机接入流程</h2><p>RACH程序具有与LTE相同的消息流程，然而，具有不同的参数[13]：</p>
<div align="center"><br>  <img src="/images/learning/NB-IoT-WP/P20-RACH-procedure.jpg" width="80%" alt="RACH-procedure"><br>  图4-2 RACH流程<br></div> 

<p>对于NB-IoT，RACH过程始终是基于竞争的，并从传输前导码开始，如第21页的第3.3.4节“随机接入信道”中所述。在来自eNB的相关响应之后，预定消息msg3 ，以便开始争用解决过程。相关联的争用解决消息最终被传送给UE以便指示RACH过程的成功完成。<br>在传输前导码时，UE首先从传输时间计算其RA-RNTI。它看起来在PDCCH中寻找用RARandom RNTI加扰的DCI格式N1，其中指示了随机接入响应消息。 UE期望在响应窗口内的这个消息，其在最后的前导码SF之后开始3个SF并且具有在SIB2-NB中给出的CE依赖长度。<br>如果前导码传输不成功，即没有接收到关联的随机接入响应（RAR）消息，则UE发送​​另一个。这可以达到最大数量，这又取决于CE等级。对于这个最大数目没有成功达到的情况，如果这个级别被配置，则UE进行到下一个CE级别。如果达到接入尝试的总次数，则向RRC报告关联的失败。<br>通过RAR，UE除了临时C-RNTI之外还获得定时提前命令。因此，以下msg3已经时间对齐，这对于通过NPUSCH进行传输是必需的。此外，RAR为msg3提供UL授权，包含msg3传输的所有相关数据。<br>其余过程如在LTE中那样完成，即，UE发送标识，并且在接收到指示该标识的竞争解决时，随机接入过程被成功完成。</p>
<h2 id="连接控制"><a href="#连接控制" class="headerlink" title="连接控制"></a>连接控制</h2><p>由于不支持切换到不同技术的系统，RRC的状态模型变得非常简单（图4-3）。</p>
<div align="center"><br>  <img src="/images/learning/NB-IoT-WP/P21-RRC-states.jpg" width="80%" alt="RRC-states"><br>  图4-3 RRC状态转换<br></div> 

<p>和LTE一样，只有两种状态，RRC_IDLE和RRC_CONNECTED。 但是，不存在到关联的UTRA和GSM状态的转换，因为不支持这些技术的切换。 也没有切换到LTE，因为LTE被认为是不同的RAT。</p>
<h3 id="RRC连接建立"><a href="#RRC连接建立" class="headerlink" title="RRC连接建立"></a>RRC连接建立</h3><p>RRC连接建立具有与LTE系统相同的消息流：</p>
<div align="center"><br>  <img src="/images/learning/NB-IoT-WP/P22-Connection-Establishment.jpg" width="80%" alt="Connection-Establishment"><br>  图4-4 RRC连接建立<br></div> 

<p>通过RRCConnectionRequest，UE指示它想要连接到网络并出于什么目的。此建立原因仅限于移动始发信令，移动始发数据，移动终止接入和特殊报告。<br>没有延迟容忍流量的建立原因，因为在NB-IoT中假定所有流量都是延迟容忍的。除了建立原因之外，UE还指示其支持多音业务和多载波支持的能力。虽然这些功能通常在自己的过程中发出信号，请参阅第31页上的第4.6章“UE功能转移”，但这些功能必须在此处发出信号，以便eNB可以将其应用于此过程中的以下UL授权。<br>在响应RRCConnectionSetup消息时，eNB提供信令无线电承载（SRB1），多达2个数据无线电承载（DRB）和协议的配置。<br>最后，在RRCConnectionSetupComplete消息中，UE包括其选择的PLMN和MME，并且可以搭载第一NAS消息。<br>在针对用户平面CIoT EPS优化建立连接之后，安全和RRC连接重新配置过程以与用于功能限于NB-IoT的LTE相同的方式完成。此外，为这种情况定义RRC连接重新建立过程。对于控制平面CIoT EPS优化，这些程序不适用。<br>当eNB释放连接时，请参阅第31页的章节4.5.2，“RRC连接释放”，它也可能挂起UE。在这种情况下，UE转换到RRC_IDLE状态并存储当前AS上下文。它可以在稍后恢复与该上下文的RRC_CONNECTED状态。无线电承载自动设置，安全性通过更新密钥激活。另外，AS上下文的一部分可能会改变。显然，这为传输不常见的小数据包节省了相当多的信令开销。<br>RRC Connection Resume如下图所示：</p>
<div align="center"><br>  <img src="/images/learning/NB-IoT-WP/P23-Connection-Resume.jpg" width="80%" alt="Connection-Resume"><br>  图4-5 RRC连接恢复成功<br></div> 

<p>当UE被配置用于用户平面CIoT EPS优化并且配置有至少一个DRB时，可以仅应用恢复请求。在接收到RRCConnectionResumeRequest时，eNB决定它是否接受该请求或者是否应该启动传统的RRC连接建立。 如果eNB不接受恢复请求，则切换回连接请求：</p>
<div align="center"><br>  <img src="/images/learning/NB-IoT-WP/P24-Connection-Resume-F.jpg" width="80%" alt="Connection-Resume-F"><br>  图4-6 RRC连接恢复失败<br></div> 

<p>在这种情况下，UE释放所存储的AS上下文，并且不再可能为了以后的连接而恢复该AS上下文。<br>当eNB在MIB-NB中指示接入受到接入等级限制并广播SIB14-NB时，UE在它想要建立移动始发信令或数据的连接时首先进行接入禁止检查，然后尝试建立或恢复RRC连接。市场上可买到的UE具有从0到9的接入等级。在SIB14-NB中，存在包含用于每个接入等级的一个比特的关联位图。如果设置了与访问类关联的位，则禁止访问该单元。<br>UE然后等待SIB14-NB的更新再次检查实际禁止状态。请注意，根据SIB14-NB设置的不同，此访问限制检查可能会跳过一些特殊数据。<br>如果连接请求或恢复请求被拒绝，例如因为不再有空闲资源，eNB会用RRCConnectionReject来回复。然后，UE必须等待拒绝消息提供的时间量。这样，当太多的UE同时开始网络连接时，eNB可以防止过度阻塞。如果拒绝是用于恢复过程的，则eNB指示当前的UE上下文是否应该被释放或者保存用于后续恢复请求的进一步存储。</p>
<h3 id="RRC连接释放"><a href="#RRC连接释放" class="headerlink" title="RRC连接释放"></a>RRC连接释放</h3><p>RRC连接释放由eNB发起，如图4-7所示。</p>
<div align="center"><br>  <img src="/images/learning/NB-IoT-WP/P25-Connection-release.jpg" width="80%" alt="Connection-release"><br>  图4-7 RRC连接释放<br></div> 

<p>对于用户平面CIoT EPS优化，eNB可以在这里指示暂停与rrcSuspend标志的连接。 在这种情况下，UE存储AS上下文并且可以如上所述请求RRC连接恢复，否则删除AS上下文并且UE可以仅使用完整的RRC连接建立来获得另一个RRC连接。<br>在该过程已经完成之后，UE进入RRC_IDLE状态。</p>
<h2 id="UE能力发送"><a href="#UE能力发送" class="headerlink" title="UE能力发送"></a>UE能力发送</h2><p>当UE连接到网络时，eNB不知道在哪个版本上建立UE，也不知道它支持哪些可选特征。 为了获得这个信息，定义了UE能力转移处理，如图4-8所示：</p>
<div align="center"><br>  <img src="/images/learning/NB-IoT-WP/P26-UE-capability.jpg" width="80%" alt="UE-capability"><br>  图4-8 UE能力发送<br></div> 

<p>UE能力传输总是由eNB发起的，因为UE不能知道eNB是否已经从网络或从先前会话中获得该信息。<br>这些功能包括UE建立的版本，UE类别，支持的频段列表和建立多承载的能力。 另外，UE可以指示其是否支持UL载波中的多载波操作和多音频传输。 也可以包含RoHC上下文会话和支持的配置文件的最大数量。<br>这个消息通常比相应的LTE消息小得多，因为在NB-IoT中不支持的所有LTE功能，如进一步的接入技术或载波聚合，都被排除在外。</p>
<h2 id="寻呼"><a href="#寻呼" class="headerlink" title="寻呼"></a>寻呼</h2><p>寻呼用于触发RRC连接，并指示RRC_IDLE模式下UE的系统信息的变化。<br>寻呼消息通过NPDSCH发送，并且可以包含要被寻呼的UE的列表以及信息，无论寻呼是用于连接建立还是系统信息已经改变。在该列表中找到其ID的每个UE向其上层转发其被寻呼，并且可以依次接收用于初始化RRC连接的命令。如果系统信息已经改变，则UE开始读取SIB1-NB并且可以从那里获得信息，哪些SIB必须被再次读取。<br>处于RRC_IDLE状态的UE仅监视关于寻呼的一些SF，无线电帧子集内的寻呼时机（PO），寻呼帧（PF）。如果应用覆盖增强重复，则PO指重复内的第一次传输。 PF和PO由SIB2-NB中提供的DRX周期和USIM卡提供的IMSI确定。 DRX是用于节省电池寿命的DL控制信道的不连续接收。支持128,256,512和1024个无线电帧的周期，对应于1.28s和10.24s之间的时间间隔。<br>由于确定PF和PO的算法也依赖于IMSI，所以不同的UE具有不同的寻呼时机，其在时间上均匀分布。 UE在DRX周期内监视一个寻呼时机就足够了，如果其中有几个寻呼时机，则在其中的每一个寻呼机中重复寻呼。<br>扩展DRX（eDRX）的概念也可以应用于NB-IoT。这是使用第11页的第3.2.1节“帧和插槽结构”中概述的超帧完成的。如果支持eDRX，则UE不监视寻呼消息的时间间隔可能会大大延长，到近3个小时。相应地，UE必须知道在HFN的哪个时间间隔上以及哪个时间间隔内寻呼时间窗（PTW），它必须监视寻呼。 PTW由启动和停止SFN定义。在PTW内，PF和PO的确定以与非扩展DRX相同的方式完成。</p>
<hr>
<h1 id="数据传输"><a href="#数据传输" class="headerlink" title="数据传输"></a>数据传输</h1><p>如第5章第2.2.1节“核心网络”中所述，数据传输有两种方式，控制平面CIoT EPS优化和用户平面CIoT EPS优化。 MME表示支持这些优化中的每一个。 对于移动发起的数据，UE可以在支持的选项中进行选择。 对于移动终止的数据，MME选择优化并且可以考虑UE偏好，其在附着过程中被通知给网络。</p>
<h2 id="控制面优化"><a href="#控制面优化" class="headerlink" title="控制面优化"></a>控制面优化</h2><p>对于控制平面CIoT EPS优化，UE和eNB之间的数据交换是在RRC层完成的。 在DL中，数据分组可以在RRCConnectionSetup消息中或在RRCConnectionSetupComplete消息中的UL中捎带。 如果这还不够，则可以使用DLInformationTransfer和ULInformationTransfer这两个消息继续进行数据传输：</p>
<div align="center"><br>  <img src="/images/learning/NB-IoT-WP/P27-NAS-information.jpg" width="80%" alt="NAS-information"><br>  图5-1 UE及eNB之间NSA信息传输<br></div> 

<p>包含在所有这些消息中的是包含NAS信息的字节数组，其在这种情况下对应于NB-IoT数据分组。 因此它对于eNB是透明的，并且UE的RRC将接收到的DLInformationTransfer的内容直接转发到其上层。 在eNB和MME之间，dedicatedInfoNAS通过S1-MME接口交换。<br>对于此数据传输方法，AS级别的安全性不适用。 由于还没有RRC连接重新配置，它可能分别在RRC连接建立或恢复过程之后或在RRC连接建立或恢复过程期间立即开始。 当然，RRC连接必须随后通过RRC连接释放而终止。</p>
<h2 id="用户面优化"><a href="#用户面优化" class="headerlink" title="用户面优化"></a>用户面优化</h2><p>在用户平面中，CIoT EPS优化数据通过网络在常规用户平面上传输，即eNB将数据转发给S-GW或从该节点接收数据。 为了保持较低的UE复杂度，可以同时配置一个或两个DRB。<br>需要区分两种情况：当前一个RRC连接被释放并且可能的恢复操作被指示时，请参阅第31页的第4.5.2节“RRC连接释放”，可以请求该连接作为恢复过程，如图所示4-5。 如果此恢复过程成功，则使用更新的密钥建立安全性，并且像上一次连接一样设置无线承载。 如果以前没有发布恢复指示，或者恢复请求未被eNB接受，则必须建立安全和无线承载，如下一节所示。</p>
<h3 id="数据连接的建立与配置"><a href="#数据连接的建立与配置" class="headerlink" title="数据连接的建立与配置"></a>数据连接的建立与配置</h3><p>建立RRC连接后，如图4-4或图4-6所示，第一步是建立AS级安全。这是通过初始安全激活过程完成的：</p>
<div align="center"><br>  <img src="/images/learning/NB-IoT-WP/P28-security.jpg" width="80%" alt="security"><br>  图5-2 AS层安全建立<br></div> 

<p>在SecurityModeCommand消息中，eNB向UE提供要应用于SRB1和DRB的加密算法，以及用于保护SRB1的完整性保护算法。为LTE定义的所有算法也包含在NB-IoT中。使用此消息，SRB1bis会自动更改为SRB1，SRB1用于以下控制消息。<br>安全性激活后，使用RRC连接重新配置过程设置DRB：</p>
<div align="center"><br>  <img src="/images/learning/NB-IoT-WP/P29-reconfiguration.jpg" width="80%" alt="reconfiguration"><br>  图5-3 RRC连接重配置流程<br></div> 

<p>在重新配置消息中，eNB向UE提供无线电承载，包括RLC和逻辑信道的配置。后者包含根据实际需求平衡数据传输的优先级。 PDCP仅针对DRB进行配置，因为SRB仅使用默认值。<br>在包含的MAC配置中，提供了缓冲区状态报告（BSR），调度请求（SR），时间对齐和DRX的配置。最后，物理配置提供了将数据映射到插槽和频率的必要参数。</p>
<h3 id="多载波配置"><a href="#多载波配置" class="headerlink" title="多载波配置"></a>多载波配置</h3><p>RRCConnectionReconfiguration可以包含UL和DL（非锚定载波）中的附加载波的设置。<br>当在DL中提供非锚定载波时，UE将接收该频率上的所有数据。这排除了仅在锚载波上接收到的同步，广播信息和寻呼。 可以提供指示允许的DL SF的位图。 由于不需要同步和广播信息，非主载波可以包含相当多的数据SF。<br>一旦非锚定载波被配置，UE就在它处于RRC_CONNECTED状态时单独监听这一个。 因此，UE只需要一个接收机链。<br>在UL中也适用相同的原则。 如果配置了额外的UL载波，则UE仅采用该载波进行数据传输，在该载波和锚载波中不存在同时传输。<br>对于DL和UL两者，当UE释放到RRC_IDLE状态时，UE返回到其锚定载波。</p>
<div align="center"><br>  <img src="/images/learning/NB-IoT-WP/P30-reconfiguration.jpg" width="100%" alt="reconfiguration"><br>  图5-4 配置示例<br></div> 

<p>UE1配置有主载波，在DL和UL中具有其他载波的UE2，以及仅在DL上具有不同载波的UE3。为了简单起见，该图既不考虑下一节中解释的NPDCCH周期，也不考虑DL数据不允许的SF。它只能以示意的方式解释。<br>即使在带内操作中，分配的DL载波也不限于表3-1中显示的值。这种限制仅限于那些发送NPSS，NSSS和NPBCH的载波，即可以用作主载波的载波。对于提供的DL频率，允许所有运营商。<br>这种结构允许推出NB-IoT宽带网络，尽管每个UE只有一个窄带可用的发射机/接收机链。在DL中广播的同步开销，以及UL中的NPRACH资源可以被限制为载波的一个或多个视图对，而其他的可以完全用于数据传输。由于接收和传输不会同时进行，并且始终只限于一个频段，所以UE只有一个带宽为180 kHz的发射机/接收机链就足够了。</p>
<h3 id="控制信道接收"><a href="#控制信道接收" class="headerlink" title="控制信道接收"></a>控制信道接收</h3><p>在RRC连接状态下，UE仅监视UE特定搜索空间（USS）以获得其UL授权和DL分配。 重新配置消息包含最大重复次数，其范围从1到2048，权重为2.但是，实际重复次数可能会更小，如下表所示：</p>
<p>对于实际重复次数小于其最大次数的情况，剩余的SF可用于向另一UE发送不同的NPDCCH。 例如，如果最大重复次数是4，则所有SF可以包含用于一个UE的DCI，或者两个SF可以分别用于两个UE中的每一个，或者每个SF用于不同的UE。 当然，UE必须监视所有这些候选者。<br>重新配置消息还包含一个参数来描述NPDCCH周期。 就这一时期的开始而言，美国军队在开始时或者在周期长度的1/8，1/4或3/8的偏移处开始。</p>
<h3 id="上行业务信道传输"><a href="#上行业务信道传输" class="headerlink" title="上行业务信道传输"></a>上行业务信道传输</h3><p>DCI格式N0指示用于在NPUSCH上传输的UL许可，包括所有相关参数。 一个传输块可以重复多次。 重复的安排取决于一个RU的副载波数量，副载波间隔和重复次数。 这应该首先用图5-5所示的例子来说明：</p>
<div align="center"><br>  <img src="/images/learning/NB-IoT-WP/P31-NPUSCH-transmission.jpg" width="100%" alt="NPUSCH-transmission"><br>  图5-5 NPUSCH传输示例<br></div> 

<p>对于15kHz副载波间隔的情况，在两个RU（a）上发送称为测试字（TW）的传输块，其中每个RU在8个时隙（b）上具有3个副载波的格式。总共应用8次重复。在图5-5中，Tn表示第一个RU的第n个时隙，Wm表示第二个RU的第m个时隙。<br>在第一步中，发送两个时隙T1和T2。这一对重复三次，以便这些插槽有4次传输。然后在接下来的两个插槽中完成相同的过程。这一直持续到槽W7和W8成对传输四次。最后，由于TW现在有4次重复，传输序列再次重复，达到8次重复。<br>在一般情况下，两个时隙的第一次重复总是针对15kHz的子载波间隔完成的。在3.75 kHz子载波间隔上，每个插槽分开完成。如果RU具有多于一个子载波，或者如果RU仅具有一个子载波，则第一次重复的总数是具有四个上限的总重复次数的一半。在上面的例子中，这意味着如果将有32次重复，则序列生成将如图5-5（c）所示，然而总序列会重复7次。<br>通常，序列被映射到一组连续的时隙。大量重复出现异常。更确切地说，在传输256ms之后，在NPUSCH传输继续之前产生40ms的间隙。这个间隙是必要的，因为当UE在NPUSCH上发送时，它不能同时接收DL信道并且可能因此失去与eNB的同步。在这个差距期间，同步再次被微调。</p>
<h3 id="下行业务信道接收"><a href="#下行业务信道接收" class="headerlink" title="下行业务信道接收"></a>下行业务信道接收</h3><p>DCI格式N1表示描述在NPDSCH上传送数据符号的位置和方式的DL分配。其原理与UL基本相同，请参见图5-5中所示的示例，但数据包不会首先分组为RU。如果没有重复，则数据包被连续映射到时隙中并且在NPDSCH SF中发送。<br>对于存在重复的情况，该映射类似于多音UL中的类似。两个插槽的数据首先被映射到一个SF中，现在用重复的总次数重复一次，再次以4的上限重复。然后以相同的方式继续映射，直到所有的SF都被发送。最后重复整个结构，直到达到所需的重复次数。<br>DL数据包含SIB-NB信息时有例外。在这种情况下，如图5-5（b）中的示例那样，时隙连续地传输，然后将整个块重复适当的次数。<br>传输间隙可由RRC进行配置，用于具有大量重复的NPDSCH传输。 RRCConnectionReconfiguration消息可以提供信息重复次数应该多大以触发这些间隙，其周期性和发生的长度。发生间隙时，NPDSCH传输会在间隙后推迟到下一个可用的SF。这些间隙不适用于携带MIB-NB或SIB-NB信息的NPDSCH。</p>
<hr>
<h1 id="总结与展望"><a href="#总结与展望" class="headerlink" title="总结与展望"></a>总结与展望</h1><p>利用版本13中规定的NB-IoT技术，3GPP创建了一种新的蜂窝空中接口，该接口完全适应典型机器类型通信的要求。它针对小型和不频繁的数据包进行了优化，并放弃了不需要此功能的蜂窝功能。这样，UE可以以节约成本的方式保持并且仅需要少量的电池电量。<br>数据传输保持在180 kHz的小频段。但是，由于多频带结构，可以使用广谱频率。信令部分可以被减少到一个或仅仅几个NB-IoT载波，而其余部分可以被充分地用于数据传输。这样，虽然单个UE仅具有相对窄带的发射机和接收机，但是用于数据传输的带宽相当大。<br>随着第14版，NB-IoT的发展将继续[14]。根据目前的计划，NB-IoT将扩展到包括定位方法，所需的组播服务用于软件更新或有关整个群组的消息，移动性和服务连续性以及进一步的技术细节，以加强NB-IoT技术的应用领域。我们将提供相关的技术说明，因此请查看我们的网站以获取本文档的新版本。[^15]</p>
<hr>
<h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><p>[1] 3GPP TR 45.820 V13.1.0, November 2015; Cellular system support for ultra-low complexity and low throughput Internet of Things (CIoT)<br>[2] 3GPP TS 23.272 V13.3.0, March 2016; Circuit Switched (CS) fallback in Evolved Packet System (EPS)<br>[3] 3GPP TS 23.401 V13.6.1, March 2016; General Packet Radio Service (GPRS) enhancements for Evolved Universal Terrestrial Radio Access Network<br>[4] 3GPP TS 23.682 V13.5.0, March 2016; Architecture enhancements to facilitate communications with packet data networks and applications<br>[5] 3GPP TS 36.331 V13.2.0, June 2016; Radio Resource Control (RRC); Protocol specification<br>[6] 3GPP TS 36.300 V13.4.0, June 2016; Overall description<br>[7] 3GPP TS 36.101 V13.4.0, June 2016; User Equipment (UE) radio transmission and reception<br>[8] 3GPP TS 36.201 V13.2.0, June 2016; LTE physical layer; General description<br>[9] 3GPP TS 36.211 V13.2.0, June 2016; Physical channels and modulation<br>[10] 3GPP TS 36.212 V13.2.0, June 2016; Multiplexing and channel coding<br>[11] 3GPP TS 36.213 V13.2.0, June 2016; Physical layer procedures<br>[12] 3GPP TS 36.304 V13.2.0, June 2016; User Equipment (UE) procedures in idle mode<br>[13] 3GPP TS 36.321 V13.2.0, June 2016; Medium Access Control (MAC) protocol specification<br>[14] 3GPP RP-161324 3GPP Work Item Description Enhancements of NB-IoT<br><a href="https://mp.weixin.qq.com/s/d1vjqjFIY_XyLc-JtduFpg" target="_blank" rel="noopener">15</a> </p>

      
    </div>

    <div>
      
        

      
    </div>
  
        <div class="post-tags">
          
            <a href="/tags/rohde-schwarz/" rel="tag"><i class="fa fa-tag"></i> rohde&schwarz</a>
          
        </div>
      


    <div>
      
        
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div>🐶 您的支持将鼓励我继续创作 🐶</div>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>赞赏</span>
    </button>
    <div id="QR" style="display: none;">
      
        <div id="wechat" style="display: inline-block">
          <img id="wechat_qr" src="/images/weixin.jpg" alt="Pan Xiang WeChat Pay"/>
          <p>微信打赏</p>
        </div>
      
      
        <div id="alipay" style="display: inline-block">
          <img id="alipay_qr" src="/images/zhifubao.jpg" alt="Pan Xiang Alipay"/>
          <p>支付宝打赏</p>
        </div>
      
    </div>
  </div>


      
    </div>


    <footer class="post-footer">
        
     <div>
      
      <ul class="post-copyright">
         <li class="post-copyright-link">
          <strong>本文作者：</strong>
          <a href="/" title="欢迎访问 Pan Xiang 的个人博客">Pan Xiang</a>
        </li>

        <li class="post-copyright-link">
          <strong>本文标题：</strong>
          <a href="https://panxiang315.github.io/telecommunication/NB-IoT/0-2-NB-IoT/" title="NB-IoT白皮书">NB-IoT白皮书</a>
        </li>

        <li class="post-copyright-link">
          <strong>本文链接：</strong>
          <a href="https://panxiang315.github.io/telecommunication/NB-IoT/0-2-NB-IoT/" title="NB-IoT白皮书">https://panxiang315.github.io/telecommunication/NB-IoT/0-2-NB-IoT/</a>
        </li>

        <li class="post-copyright-date">
            <strong>发布时间：</strong>2018年6月5日 - 17时06分
        </li>

        <li class="post-copyright-license">
          <strong>版权声明： </strong>
          本文由 Pan Xiang 原创，采用 <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh" rel="license" target="_blank">保留署名-非商业性使用-禁止演绎 4.0-国际许可协议</a> </br>转载请保留以上声明信息！
        </li>
      </ul>
    
  </div>
      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/telecommunication/Index/0-telecommunication/" rel="next" title="学习记录">
                <i class="fa fa-chevron-left"></i> 学习记录
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/psychology/reprint/psychology-willing/" rel="prev" title="自由意志是否存在？">
                自由意志是否存在？ <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    

  </div>



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="Pan Xiang" />
          <p class="site-author-name" itemprop="name">Pan Xiang</p>
          <p class="site-description motion-element" itemprop="description">Learning, on the way</p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">30</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">22</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">35</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/panxiang315" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/panxiangBupt" target="_blank" title="weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  weibo
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              友情链接
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://greychess.cn" title="好友博客" target="_blank">好友博客</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.zhangxinxu.com/wordpress/" title="前端大佬" target="_blank">前端大佬</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://www.w3cplus.com/" title="大漠大佬" target="_blank">大漠大佬</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#简介"><span class="nav-number">1.</span> <span class="nav-text">简介</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#概述"><span class="nav-number">2.</span> <span class="nav-text">概述</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#需求"><span class="nav-number">2.1.</span> <span class="nav-text">需求</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#网络架构"><span class="nav-number">2.2.</span> <span class="nav-text">网络架构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#核心网"><span class="nav-number">2.2.1.</span> <span class="nav-text">核心网</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#接入网"><span class="nav-number">2.2.2.</span> <span class="nav-text">接入网</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#频带"><span class="nav-number">2.3.</span> <span class="nav-text">频带</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#物理层"><span class="nav-number">3.</span> <span class="nav-text">物理层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#操作模式"><span class="nav-number">3.1.</span> <span class="nav-text">操作模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#下行"><span class="nav-number">3.2.</span> <span class="nav-text">下行</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#帧结构"><span class="nav-number">3.2.1.</span> <span class="nav-text">帧结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#窄带参考信号"><span class="nav-number">3.2.2.</span> <span class="nav-text">窄带参考信号</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#同步信号"><span class="nav-number">3.2.3.</span> <span class="nav-text">同步信号</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#窄带物理广播信道"><span class="nav-number">3.2.4.</span> <span class="nav-text">窄带物理广播信道</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#专用信道"><span class="nav-number">3.2.5.</span> <span class="nav-text">专用信道</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#控制信道NPDCCH"><span class="nav-number">3.2.5.1.</span> <span class="nav-text">控制信道NPDCCH</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#业务信道NPDSCH"><span class="nav-number">3.2.5.2.</span> <span class="nav-text">业务信道NPDSCH</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#上行"><span class="nav-number">3.3.</span> <span class="nav-text">上行</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#时隙结构"><span class="nav-number">3.3.1.</span> <span class="nav-text">时隙结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#物理上行共享信道"><span class="nav-number">3.3.2.</span> <span class="nav-text">物理上行共享信道</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#参考信号"><span class="nav-number">3.3.3.</span> <span class="nav-text">参考信号</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#随机接入信道"><span class="nav-number">3.3.4.</span> <span class="nav-text">随机接入信道</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#功率控制"><span class="nav-number">3.4.</span> <span class="nav-text">功率控制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#上行功率控制"><span class="nav-number">3.4.1.</span> <span class="nav-text">上行功率控制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#下行功率控制"><span class="nav-number">3.4.2.</span> <span class="nav-text">下行功率控制</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#小区接入"><span class="nav-number">4.</span> <span class="nav-text">小区接入</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#协议栈及信令承载"><span class="nav-number">4.1.</span> <span class="nav-text">协议栈及信令承载</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#系统信息"><span class="nav-number">4.2.</span> <span class="nav-text">系统信息</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#调度"><span class="nav-number">4.2.1.</span> <span class="nav-text">调度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#变更通知"><span class="nav-number">4.2.2.</span> <span class="nav-text">变更通知</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#小结"><span class="nav-number">4.2.3.</span> <span class="nav-text">小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#小区选择及移动性"><span class="nav-number">4.3.</span> <span class="nav-text">小区选择及移动性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#随机接入流程"><span class="nav-number">4.4.</span> <span class="nav-text">随机接入流程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#连接控制"><span class="nav-number">4.5.</span> <span class="nav-text">连接控制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#RRC连接建立"><span class="nav-number">4.5.1.</span> <span class="nav-text">RRC连接建立</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#RRC连接释放"><span class="nav-number">4.5.2.</span> <span class="nav-text">RRC连接释放</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UE能力发送"><span class="nav-number">4.6.</span> <span class="nav-text">UE能力发送</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#寻呼"><span class="nav-number">4.7.</span> <span class="nav-text">寻呼</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#数据传输"><span class="nav-number">5.</span> <span class="nav-text">数据传输</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#控制面优化"><span class="nav-number">5.1.</span> <span class="nav-text">控制面优化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#用户面优化"><span class="nav-number">5.2.</span> <span class="nav-text">用户面优化</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#数据连接的建立与配置"><span class="nav-number">5.2.1.</span> <span class="nav-text">数据连接的建立与配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#多载波配置"><span class="nav-number">5.2.2.</span> <span class="nav-text">多载波配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#控制信道接收"><span class="nav-number">5.2.3.</span> <span class="nav-text">控制信道接收</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#上行业务信道传输"><span class="nav-number">5.2.4.</span> <span class="nav-text">上行业务信道传输</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#下行业务信道接收"><span class="nav-number">5.2.5.</span> <span class="nav-text">下行业务信道接收</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#总结与展望"><span class="nav-number">6.</span> <span class="nav-text">总结与展望</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#参考文献"><span class="nav-number">7.</span> <span class="nav-text">参考文献</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fas fa-star"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Pan Xiang</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io" rel="external nofollow">Hexo</a> 驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next" rel="external nofollow">
    NexT.Mist
  </a>
</div>





        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery/2.1.3/jquery.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/fastclick/1.0.6/fastclick.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery.lazyload/1.9.3/jquery.lazyload.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.ui.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  

  
      <!-- UY BEGIN -->
      <script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid="></script>
      <!-- UY END -->
  



  


  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  

	<!-- 页面点击小红心 -->
	<!-- <script type="text/javascript" src="/js/src/love.js"></script> --><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</body>
</html>
